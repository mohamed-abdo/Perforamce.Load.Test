{
	"id": "453fa568-9362-9bd3-8917-db2c87597daf",
	"name": "IdentityAPI-Test",
	"description": "",
	"order": [
		"77a0eefc-9216-30e9-368d-32504dab22e8",
		"346583d3-a43e-5f46-7836-8e7c57768268",
		"9d4db449-eb19-d262-71ee-f147131339e2",
		"1d320eab-a417-4ae7-a14d-0f01e8bb95fe"
	],
	"folders": [],
	"timestamp": 1487853879492,
	"owner": "740765",
	"public": false,
	"requests": [
		{
			"id": "1d320eab-a417-4ae7-a14d-0f01e8bb95fe",
			"headers": "Authorization: {{AuthBasic}}\nContent-Type: application/json\n",
			"url": "{{IdentityAPI}}UserProfile/GetDetails",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "GET",
			"data": [],
			"dataMode": "raw",
			"tests": "tests[\"userName\"] = responseBody.has(\"userName\");\r\ntests[\"status\"] = responseBody.has(\"status\");\r\ntests[\"roles\"] = responseBody.has(\"roles\");\r\n\r\n\r\nvar jsonData = JSON.parse(responseBody);\r\ntests[\"Status code is 200, executed in: \"+responseTime+ \" ms\"] = responseCode.code === 200;\r\ntests[\"Processed Successfully\"] = jsonData.resultCode ===0;\r\n\r\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1487855795891,
			"name": "UserProfile-GetDetails",
			"description": "",
			"collectionId": "453fa568-9362-9bd3-8917-db2c87597daf",
			"responses": [],
			"isFromCollection": true,
			"collectionRequestId": "33f46fca-d2e3-62df-d9db-5e266c414418",
			"rawModeData": "{\n    \"CurrentPassword\": \"password\",\n    \"NewPassword\": \"P@ssw0rd\"\n}"
		},
		{
			"id": "346583d3-a43e-5f46-7836-8e7c57768268",
			"headers": "Authorization: {{AuthBasic}}\nContent-Type: application/json\n",
			"url": "{{IdentityAPI}}RoleManagement/GetRoles",
			"preRequestScript": "(function(){\n    var base64 = btoa(environment[\"AuthBasic_User\"] + ':' + environment[\"AuthBasic_Password\"]);\n    postman.setEnvironmentVariable(\"AuthBasic\", \"Basic_\" + environment[\"Mode\"] + \" \" + base64);\n})();",
			"pathVariables": {},
			"method": "GET",
			"data": [],
			"dataMode": "raw",
			"tests": "tests[\"Roles has Title  & Description\"] = responseBody.has(\"title\") && responseBody.has(\"description\");\r\nvar jsonData = JSON.parse(responseBody);\r\ntests[\"Status code is 200, executed in: \"+responseTime+ \" ms\"] = responseCode.code === 200;\r\ntests[\"Processed Successfully\"] = jsonData.resultCode ===0;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1487855810032,
			"name": "RoleManagement-GetRoles",
			"description": "",
			"collectionId": "453fa568-9362-9bd3-8917-db2c87597daf",
			"responses": [],
			"isFromCollection": true,
			"collectionRequestId": "2f7376c9-256c-6ce9-4132-45b30f98c2fd",
			"rawModeData": "{\n  \"userName\": \"ahsan\",\n  \"email\" : \"ahsan@SoftIdeas.com\",\n  \"firstName\" : \"Muhammad\",\n  \"lastName\" : \"Ahsan\",\n  \"mobile\" : \"\",\n  \"phone\" : \"\",\n  \"roles\" : [\"Admin\", \"Key Manager\"]\n}"
		},
		{
			"id": "77a0eefc-9216-30e9-368d-32504dab22e8",
			"headers": "Authorization: {{AuthBasic}}\nContent-Type: application/json\n",
			"url": "{{IdentityAPI}}/UserProfile/GetUserIdentity",
			"preRequestScript": "(function(){\n    var base64 = btoa(environment[\"AuthBasic_User\"] + ':' + environment[\"AuthBasic_Password\"]);\n    postman.setEnvironmentVariable(\"AuthBasic\", \"Basic_\" + environment[\"Mode\"] + \" \" + base64);\n})();",
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"tests": "var jsonData = JSON.parse(responseBody);\n\ntests[\"Status code is 200, and executed in: \"+responseTime+ \" ms\"] = responseCode.code === 200;\ntests[\"success result code\"] === jsonData.resultCode===0;\ntests[\"Token is not null\"] =jsonData.result.identityToken != null;\ntests[\"User has a permission\"]=jsonData.result.permissions.length > 0;\ntests[\"Response time is less than 600 ms\"] = responseTime < 600;\n\n(function(){\n    var base64Token=btoa(environment[\"AuthBasic_User\"] + ':' + jsonData.result.identityToken);\n    postman.setEnvironmentVariable(\"IdentityToken\", base64Token);\n    postman.setEnvironmentVariable(\"Organization\", jsonData.result.organizationIdentifier);\n    var scheme=environment[\"AuthScheme\"] ;\n    var Authorization='';\n    if(scheme=='Key_Test'){\n         base64Token= btoa(jsonData.result.organizationIdentifier +\":\"+ postman.getEnvironmentVariable(\"OrganizationPrvateKey\"))\n         Authorization=scheme  +' '+ base64Token;\n        postman.setEnvironmentVariable(\"Authorization\",Authorization); \n    }else {\n        Authorization=scheme  +' '+ base64Token;\n        postman.setEnvironmentVariable(\"Authorization\",Authorization);\n    }\n})();",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1487855729475,
			"name": "GetUserIdentity",
			"description": "",
			"collectionId": "453fa568-9362-9bd3-8917-db2c87597daf",
			"isFromCollection": true,
			"collectionRequestId": "c58c92ea-951e-d5b3-87d1-08f3e03ac87e"
		},
		{
			"id": "9d4db449-eb19-d262-71ee-f147131339e2",
			"headers": "Authorization: {{AuthBasic}}\nContent-Type: application/json\n",
			"url": "{{IdentityAPI}}UserManagement/GetUsers",
			"preRequestScript": "(function(){\n    var base64 = btoa(environment[\"AuthBasic_User\"] + ':' + environment[\"AuthBasic_Password\"]);\n    postman.setEnvironmentVariable(\"AuthBasic\", \"Basic_\" + environment[\"Mode\"] + \" \" + base64);\n})();",
			"pathVariables": {},
			"method": "GET",
			"data": [],
			"dataMode": "raw",
			"tests": "tests[\"Result\"] = responseBody.has(\"userName\") && responseBody.has(\"firstName\")&& responseBody.has(\"lastName\")&& responseBody.has(\"email\")&&responseBody.has(\"mobile\")&& responseBody.has(\"phone\")&& responseBody.has(\"status\")&& responseBody.has(\"roles\");\r\n\r\nvar jsonData = JSON.parse(responseBody);\r\ntests[\"Status code is 200, executed in: \"+responseTime+ \" ms\"] = responseCode.code === 200;\r\ntests[\"Processed Successfully\"] = jsonData.resultCode ===0;\r\n\r\nif(responseCode.code == 200){\r\n        tests[\"Result\"] !== null;\r\n}",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1487855813634,
			"name": "UserManagement-GetUsers",
			"description": "",
			"collectionId": "453fa568-9362-9bd3-8917-db2c87597daf",
			"responses": [],
			"isFromCollection": true,
			"collectionRequestId": "c2fbcdf0-fc6d-a2a8-c03e-313a2edaa5b5",
			"rawModeData": "{\n  \"ActivationCode\": \"vnA6HIAPEaYGNep07jvZHj6a5hn4gCK2taYnaPLyBshuJmk+NmNLdkqxaYa8pO7NmlWBaz0XDVQTdP2MEEGznw==\",\n  \"userName\" : \"ahsan\",\n  \"password\" : \"P@ssword1\"\n}"
		}
	]
}